<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü—Ä–æ—Ñ–∏–ª—å | HunHub</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="container">
      <div class="header-inner">
        <div class="logo">HunHub</div>
        <nav>
          <ul class="nav-links">
            <li><a href="{{ url_for('flashcards') }}">–ö–∞—Ä—Ç–æ—á–∫–∏</a></li>
            <li><a href="{{ url_for('texts_page') }}">–¢–µ–∫—Å—Ç—ã</a></li>
            <li><a href="{{ url_for('game_select') }}">–ú–∏–Ω–∏-–∏–≥—Ä—ã</a>
            <li><a href="{{ url_for('index') }}">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="{{ url_for('logout') }}">–í—ã—Ö–æ–¥</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <section class="profile-section">
    <div class="container">
      <div class="profile-card">
        <div class="profile-avatar">
          <img src="{{ url_for('static', filename='img/avatars/' + (user.avatar if user.avatar else 'default_avatar.png')) }}" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
       </div>
          
        <div class="profile-info">
          <h2>{{ user.username }}</h2> <!-- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö -->
          <p>Email: {{ user.email }}</p> <!-- Email –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö -->
          <p>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {{ user.created_at.strftime('%d.%m.%Y') }}</p> <!-- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö -->

          <div class="profile-actions">
            <button class="profile-btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
            <button class="profile-btn">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
          </div>
        </div>
      </div>

      <div class="profile-stats">
        <h3>–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
        <ul class="stats-list">
          <li>üìò –ò–∑—É—á–µ–Ω–æ —Å–ª–æ–≤: <strong>342</strong></li>
          <li>üß† –ü–æ–≤—Ç–æ—Ä–µ–Ω–æ –∫–∞—Ä—Ç–æ—á–µ–∫: <strong>1280</strong></li>
          <li>üèÜ –ü–æ–ª—É—á–µ–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π: <strong>8</strong></li>
        </ul>
      </div>

      <div class="profile-achievements">
        <h3>–¢–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
        <ul class="achievement-list">
          <li>üåü –ù–æ–≤–∏—á–æ–∫: –ü—Ä–æ–π–¥–µ–Ω–æ –ø–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ</li>
          <li>üìà –£–ø–æ—Ä—Å—Ç–≤–æ: 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</li>
          <li>üß© –ú–∞—Å—Ç–µ—Ä —á—Ç–µ–Ω–∏—è: 10 —Ç–µ–∫—Å—Ç–æ–≤</li>
          <li>üïπÔ∏è –ò–≥—Ä–∞—é—â–∏–π —É—á—ë–Ω—ã–π: 5 –º–∏–Ω–∏-–∏–≥—Ä</li>
        </ul>
      </div>

      <div class="profile-history">
        <h3>–ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –∏–∑—É—á–µ–Ω–∏–∏ —Å–ª–æ–≤</h3>
        <table class="progress-table">
          <thead>
            <tr>
              <th>–°–ª–æ–≤–æ</th>
              <th>–ù–∞–±–æ—Ä</th>
              <th>–ü—Ä–æ–≥—Ä–µ—Å—Å</th>
              <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
            </tr>
          </thead>
          <tbody>
            {% for card in user_cards %}
              <tr>
                <td>{{ card.character }}</td>
                <td>{{ card.set.name }}</td>
                <td>
                  {% if card.progress and card.progress[0] %}
                    <span>–°–ª–µ–¥—É—é—â–µ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ: {{ card.progress[0].next_review_date.strftime('%d.%m.%Y') }}</span><br>
                    <span>–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–π: {{ card.progress[0].repetitions }}</span><br>
                    <span>–ò–Ω—Ç–µ—Ä–≤–∞–ª: {{ card.progress[0].interval }} –¥–Ω–µ–π</span><br>
                    {% if card.progress[0].repetitions == 0 %}
                      <span>–°—Ç–∞—Ç—É—Å: –ù–∞—á–∞–ª—å–Ω—ã–π</span>
                    {% elif card.progress[0].repetitions == 1 %}
                      <span>–°—Ç–∞—Ç—É—Å: –°—Ä–µ–¥–Ω–∏–π</span>
                    {% else %}
                      <span>–°—Ç–∞—Ç—É—Å: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</span>
                    {% endif %}
                  {% else %}
                    <span>–ü—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span>
                  {% endif %}
                </td>
                
                
                <td>
                  <button data-card-id="{{ card.id }}" onclick="resetProgress({{ card.id }})">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      
      
    </div>
  </section>

  <footer>
    <div class="container">
      <p>&copy; 2025 HunHub ‚Äî –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü.</p>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='profile.js') }}"></script>
</body>
</html>
